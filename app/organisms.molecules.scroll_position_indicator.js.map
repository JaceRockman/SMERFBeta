{"version":3,"sources":["organisms/molecules/scroll_position_indicator.cljs"],"mappings":";AAOA,AAAKA,4EAA4B,gDAAA,hDAACC;AAClC,AAAKC,6EAA6B,gDAAA,hDAACD;AACnC,AAAKE,yEAAyB,gDAAA,hDAACF;AAE/B,0EAAA,1EAAMG,4JACHC,cAAcC;AADjB,AAAA,0FAAA,uFAAA,2CAAA,iLAAA,uDAAA,2CAAA,uDAAA,OAAA,yDAAA,KAAA,mEAAA,yDAAA,4EAAA,yDAAA,wEAAA,mDAAA,iDAAA,/4BAEMC,uIAAc,AAACC,8CAAMC,cAAI,kDAAA,lDAACC,sDAAcJ,0qBAE3C,AAACK,8CACA,AAACC,4CAAI,WAAKC;AAAL,AAAA,0FAAA,+FAAA,2CAAA,qDAAA,aAAA,2hBAAA,qDAAA,7uBACMC,oNAAkC,EAAI,AAACC,6CAAEF,QAAQ,qDAAA,AAAAG,rDAACC,4CAAIX,yBAAUD,kBAAgB,AAAA,iGAAA,AAAAW,gBAAeE,2BAAS,0LAAA,7IAAK,AAAA,iGAAA,AAAAF,gBAAeE;GACzHZ;;AAElB,sEAAA,tEAAMa,oJACHC,sBAAsBd,SAASe;AADlC,AAAA,0FAAA,uFAAA,2CAAA,uDAAA,2CAAA,sDAAA,3OAEMd,+PACH,AAACH,wEACAgB,sBACAd,UACD,6CAAA,7CAACgB,8EACK,+CAAA,mFAAA,6FAAA,2CAAA,1QAACC,iLACIC,wJACe,WAAKC;AAAL,AACE,OAACC,sBAAON,sBACA,AAACO,gBAAW,gPAAA,/OACC,+GAAA,mFAAA,cAAA,gBAAA,hOAACC,+CAAO,AAACC,mDAAQJ;GAL5D,kFAAA,KAAA,0EAAA,KAAA,iEAAA,KAAA,wGAAA,MAAA,4GAAA,sBAcCJ","names":["organisms.molecules.scroll-position-indicator/ruleset-horizontal-position","reagent.core.atom","organisms.molecules.scroll-position-indicator/creature-horizontal-position","organisms.molecules.scroll-position-indicator/roll-horizontal-position","organisms.molecules.scroll-position-indicator/scroll-position-indicator","position-atom","sections","js/shadow.js.shim.module$react_native.View","cljs.core.apply","cljs.core/str","cljs.core.interpose","cljs.core.doall","cljs.core.map","section","js/shadow.js.shim.module$$expo$vector_icons.Entypo","cljs.core._EQ_","cljs.core/deref","cljs.core.get","organisms.config/palette","organisms.molecules.scroll-position-indicator/indicated-scroll-view","position-tracker-atom","children","cljs.core.into","cljs.core.concat","js/shadow.js.shim.module$react_native.ScrollView","scroll-data","cljs.core/reset!","cljs.math/round","cljs.core.get_in","cljs.core.js__GT_clj"],"sourcesContent":["(ns organisms.molecules.scroll-position-indicator\r\n  (:require [clojure.math :as math]\r\n            [reagent.core :as r]\r\n            [\"react-native\" :as rn]\r\n            [\"@expo/vector-icons\" :refer [Entypo]]\r\n            [organisms.config :refer [palette]]))\r\n\r\n(def ruleset-horizontal-position (r/atom 0))\r\n(def creature-horizontal-position (r/atom 0))\r\n(def roll-horizontal-position (r/atom 0))\r\n\r\n(defn scroll-position-indicator\r\n  [position-atom sections]\r\n  [:> rn/View {:key (apply str (interpose \"-\" sections))\r\n               :style {:width \"100%\" :height 25 :align-items :center :justify-content :center :flex-direction :row :gap 3}}\r\n   (doall\r\n    (map (fn [section]\r\n           [:> Entypo {:name \"dot-single\" :color (if (= section (get sections @position-atom)) (:surface-700 @palette) (str (:surface-700 @palette) \"50\")) :size 20}])\r\n                  sections))])\r\n\r\n(defn indicated-scroll-view\r\n  [position-tracker-atom sections children]\r\n  [:> rn/View {:style {:flex 1}}\r\n   (scroll-position-indicator\r\n    position-tracker-atom\r\n    sections)\r\n   (into []\r\n         (concat\r\n          [:> rn/ScrollView {:on-scroll\r\n                             (fn [scroll-data]\r\n                               (reset! position-tracker-atom\r\n                                       (math/round (/\r\n                                                    (get-in (js->clj scroll-data)\r\n                                                            [\"nativeEvent\" \"contentOffset\" \"x\"])\r\n                                                    412))))\r\n                             :scrollEventThrottle             32\r\n                             :paging-enabled                  true\r\n                             :horizontal                      true\r\n                             :showsHorizontalScrollIndicator  false\r\n                             :shows-vertical-scroll-indicator false}\r\n           ]\r\n          children))])\r\n"]}