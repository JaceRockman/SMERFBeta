{"version":3,"sources":["expo/root.cljs"],"mappings":";AAKA,GAAA,QAAAA,iCAAAC,sCAAAC;AAAA;AAAA,AAAA,AAASC,qBAAS,6CAAA,7CAACC;;AACnB,GAAA,QAAAJ,iCAAAC,sCAAAI;AAAA;AAAA,AAAA,AAASC,+BAAmB,6CAAA,7CAACF;;AAE7B,wBAAA,xBAAMG,wDAAaC;AAAnB,AACE,IAAMC,oBAAY,CAAA,AAAAC,uCAAA,vBAAOP;AAAzB,AACE,AAACQ,sBAAOR,mBAASK;;AAEjB,GAAA,GAAQC;AACN,IAAAG,qBAAA,AAAAF,gBAAiBJ;AAAjB,AAAA,oBAAAM;AAAA,AAAA,eAAAA,XAAWJ;AAAX,AACE,OAAkBA;;AADpB;;;AAEA,IAAMK,OACA,yCAAA,zCAACC,gEAEK;AAAA,AACE,YAAA,RAASC;AAAT,AACS,OAACJ,sBAAOL,6BAAmBS;4BAEtC;AAAA,AACE,0DAAA,nDAACJ,sBAAOL;cAEV;AAAA,AACE,WAAA,AAAAI,PAAMM,uBAAMb;AAAZ,AACE,GAAI,AAACc,oBAAID;AACP,QAACA,qCAAAA,uCAAAA;;AACDA;;;AAdlB,AAgBE,OAACE,iDAA2BL","names":["js/expo","js/expo.root","js/expo.root.root-ref","expo.root/root-ref","cljs.core.atom","js/expo.root.root-component-ref","expo.root/root-component-ref","expo.root/render-root","root","first-call?","cljs.core/deref","cljs.core/reset!","temp__5804__auto__","Root","js/shadow.js.shim.module$create_react_class","this","body","cljs.core/fn?","js/shadow.js.shim.module$expo.registerRootComponent"],"sourcesContent":["(ns expo.root\r\n  (:require\r\n   [\"expo\" :as expo]\r\n   [\"create-react-class\" :as crc]))\r\n\r\n(defonce root-ref (atom nil))\r\n(defonce root-component-ref (atom nil))\r\n\r\n(defn render-root [root]\r\n  (let [first-call? (nil? @root-ref)]\r\n    (reset! root-ref root)\r\n\r\n    (if-not first-call?\r\n      (when-let [root @root-component-ref]\r\n        (.forceUpdate ^js root))\r\n      (let [Root\r\n            (crc\r\n             #js {:componentDidMount\r\n                  (fn []\r\n                    (this-as this\r\n                             (reset! root-component-ref this)))\r\n                  :componentWillUnmount\r\n                  (fn []\r\n                    (reset! root-component-ref nil))\r\n                  :render\r\n                  (fn []\r\n                    (let [body @root-ref]\r\n                      (if (fn? body)\r\n                        (body)\r\n                        body)))})]\r\n\r\n        (expo/registerRootComponent Root)))))\r\n"]}