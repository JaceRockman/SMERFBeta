goog.provide('entities.rulesets.views');
entities.rulesets.views.screen_width = (function entities$rulesets$views$screen_width(){
return screen.width;
});
entities.rulesets.views.ruleset_select = (function entities$rulesets$views$ruleset_select(conn,rulesets){
var flex_vals = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),(1)], null);
var G__39445 = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"items","items",1031954938),rulesets,new cljs.core.Keyword(null,"column-headers","column-headers",-966500841),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Title","Complexity"], null),new cljs.core.Keyword(null,"column-flex-vals","column-flex-vals",-637482818),flex_vals,new cljs.core.Keyword(null,"item-format-fn","item-format-fn",-1806627887),(function (ruleset_data){
return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),shadow.js.shim.module$react_native.Pressable,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"flex-direction","flex-direction",364609438),new cljs.core.Keyword(null,"row","row",-570139521)], null),new cljs.core.Keyword(null,"on-press","on-press",-1763585856),(function (){
var G__39452 = conn;
var G__39453 = new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(ruleset_data);
return (entities.rulesets.data.interface$.set_active_ruleset.cljs$core$IFn$_invoke$arity$2 ? entities.rulesets.data.interface$.set_active_ruleset.cljs$core$IFn$_invoke$arity$2(G__39452,G__39453) : entities.rulesets.data.interface$.set_active_ruleset.call(null,G__39452,G__39453));
})], null),(function (){var G__39456 = new cljs.core.Keyword(null,"title","title",636505583).cljs$core$IFn$_invoke$arity$1(ruleset_data);
var G__39457 = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"flex","flex",-1425124628),cljs.core.nth.cljs$core$IFn$_invoke$arity$2(flex_vals,(0))], null);
return (organisms.library.default_text.cljs$core$IFn$_invoke$arity$2 ? organisms.library.default_text.cljs$core$IFn$_invoke$arity$2(G__39456,G__39457) : organisms.library.default_text.call(null,G__39456,G__39457));
})(),(function (){var G__39460 = new cljs.core.Keyword(null,"complexity","complexity",-1593545718).cljs$core$IFn$_invoke$arity$1(ruleset_data);
var G__39461 = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"flex","flex",-1425124628),cljs.core.nth.cljs$core$IFn$_invoke$arity$2(flex_vals,(1))], null);
return (organisms.library.default_text.cljs$core$IFn$_invoke$arity$2 ? organisms.library.default_text.cljs$core$IFn$_invoke$arity$2(G__39460,G__39461) : organisms.library.default_text.call(null,G__39460,G__39461));
})()], null);
})], null);
var G__39446 = "rulesets";
return (organisms.library.search_filter_sort_list.cljs$core$IFn$_invoke$arity$2 ? organisms.library.search_filter_sort_list.cljs$core$IFn$_invoke$arity$2(G__39445,G__39446) : organisms.library.search_filter_sort_list.call(null,G__39445,G__39446));
});
entities.rulesets.views.ruleset_details = (function entities$rulesets$views$ruleset_details(conn,ruleset_data){
return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),shadow.js.shim.module$react_native.View,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"width","width",-384071477),"100%",new cljs.core.Keyword(null,"height","height",1025178622),"100%"], null)], null),(function (){var G__39467 = organisms.library.ruleset_horizontal_position;
var G__39468 = new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Skill Checks","Encounters","Damage","Conditions","Stats"], null);
return (organisms.library.scroll_position_indicator.cljs$core$IFn$_invoke$arity$2 ? organisms.library.scroll_position_indicator.cljs$core$IFn$_invoke$arity$2(G__39467,G__39468) : organisms.library.scroll_position_indicator.call(null,G__39467,G__39468));
})(),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),shadow.js.shim.module$react_native.ScrollView,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"on-scroll","on-scroll",1590848677),(function (p1__39462_SHARP_){
return cljs.core.reset_BANG_(organisms.library.ruleset_horizontal_position,cljs.math.round((cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1(p1__39462_SHARP_),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, ["nativeEvent","contentOffset","x"], null)) / (412))));
}),new cljs.core.Keyword(null,"scrollEventThrottle","scrollEventThrottle",185143551),(32),new cljs.core.Keyword(null,"paging-enabled","paging-enabled",-1582753010),true,new cljs.core.Keyword(null,"horizontal","horizontal",2062109475),true,new cljs.core.Keyword(null,"showsHorizontalScrollIndicator","showsHorizontalScrollIndicator",294729160),false,new cljs.core.Keyword(null,"shows-vertical-scroll-indicator","shows-vertical-scroll-indicator",-2019209274),false], null),cljs.core.doall.cljs$core$IFn$_invoke$arity$1(cljs.core.map.cljs$core$IFn$_invoke$arity$3((function (data_keys,section_title){
return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),shadow.js.shim.module$react_native.ScrollView,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"key","key",-1516042587),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(section_title),"-page"].join(''),new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"width","width",-384071477),entities.rulesets.views.screen_width(),new cljs.core.Keyword(null,"height","height",1025178622),new cljs.core.Keyword(null,"auto","auto",-566279492)], null)], null),(function (){var G__39476 = section_title;
var G__39477 = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"font-size","font-size",-1847940346),(24)], null);
return (organisms.library.default_text.cljs$core$IFn$_invoke$arity$2 ? organisms.library.default_text.cljs$core$IFn$_invoke$arity$2(G__39476,G__39477) : organisms.library.default_text.call(null,G__39476,G__39477));
})(),(function (){var G__39478 = conn;
var G__39479 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.str,cljs.core.interpose.cljs$core$IFn$_invoke$arity$2("\n",cljs.core.vals(cljs.core.select_keys(ruleset_data,data_keys))));
return (organisms.library.default_markdown.cljs$core$IFn$_invoke$arity$2 ? organisms.library.default_markdown.cljs$core$IFn$_invoke$arity$2(G__39478,G__39479) : organisms.library.default_markdown.call(null,G__39478,G__39479));
})()], null);
}),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("ruleset","skill-check-overview","ruleset/skill-check-overview",-749243962),new cljs.core.Keyword("ruleset","skill-check-base-dice-pool","ruleset/skill-check-base-dice-pool",146759180),new cljs.core.Keyword("ruleset","skill-check-benefits-and-detriments","ruleset/skill-check-benefits-and-detriments",419712220),new cljs.core.Keyword("ruleset","complex-actions","ruleset/complex-actions",1122057934),new cljs.core.Keyword("ruleset","careful-and-reckless-actions","ruleset/careful-and-reckless-actions",-1618633063),new cljs.core.Keyword("ruleset","skill-check-passive-checks","ruleset/skill-check-passive-checks",-1512934351)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("ruleset","encounter-overview","ruleset/encounter-overview",1811935395),new cljs.core.Keyword("ruleset","encounter-actions","ruleset/encounter-actions",459345308),new cljs.core.Keyword("ruleset","encounter-moments","ruleset/encounter-moments",-1523460035),new cljs.core.Keyword("ruleset","encounter-rounds","ruleset/encounter-rounds",267128286)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("ruleset","damage-overview","ruleset/damage-overview",-239546196),new cljs.core.Keyword("ruleset","damage-injuries","ruleset/damage-injuries",1707021895),new cljs.core.Keyword("ruleset","damage-conditions","ruleset/damage-conditions",840185861),new cljs.core.Keyword("ruleset","damage-recover","ruleset/damage-recover",360275468)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("ruleset","conditions-wounded","ruleset/conditions-wounded",1454611114),new cljs.core.Keyword("ruleset","conditions-incapacitated","ruleset/conditions-incapacitated",156370629),new cljs.core.Keyword("ruleset","conditions-dead","ruleset/conditions-dead",-875679387),new cljs.core.Keyword("ruleset","conditions-exhausted","ruleset/conditions-exhausted",941590690),new cljs.core.Keyword("ruleset","conditions-surprised","ruleset/conditions-surprised",1891759384),new cljs.core.Keyword("ruleset","conditions-blinded","ruleset/conditions-blinded",-59232494),new cljs.core.Keyword("ruleset","conditions-deafened","ruleset/conditions-deafened",934887450),new cljs.core.Keyword("ruleset","conditions-constrained","ruleset/conditions-constrained",1056787412),new cljs.core.Keyword("ruleset","conditions-frightened","ruleset/conditions-frightened",-1286259005)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("ruleset","stats-physical","ruleset/stats-physical",-1865062846),new cljs.core.Keyword("ruleset","stats-spiritual","ruleset/stats-spiritual",611368750),new cljs.core.Keyword("ruleset","stats-mental","ruleset/stats-mental",-781660058),new cljs.core.Keyword("ruleset","stats-social","ruleset/stats-social",1006520377)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Skill Checks","Encounters","Damage","Conditions","Stats"], null)))], null)], null);
});
entities.rulesets.views.rules_home = (function entities$rulesets$views$rules_home(conn){
var active_campaign_data = (entities.campaigns.data.interface$.get_active_campaign.cljs$core$IFn$_invoke$arity$1 ? entities.campaigns.data.interface$.get_active_campaign.cljs$core$IFn$_invoke$arity$1(conn) : entities.campaigns.data.interface$.get_active_campaign.call(null,conn));
var active_ruleset_data = (entities.rulesets.data.interface$.get_active_ruleset.cljs$core$IFn$_invoke$arity$1 ? entities.rulesets.data.interface$.get_active_ruleset.cljs$core$IFn$_invoke$arity$1(conn) : entities.rulesets.data.interface$.get_active_ruleset.call(null,conn));
if(cljs.core.truth_(active_ruleset_data)){
return entities.rulesets.views.ruleset_details(conn,active_ruleset_data);
} else {
if(cljs.core.truth_(active_campaign_data)){
return entities.rulesets.views.ruleset_select(conn,(entities.campaigns.data.interface$.get_active_campaign_rulesets.cljs$core$IFn$_invoke$arity$1 ? entities.campaigns.data.interface$.get_active_campaign_rulesets.cljs$core$IFn$_invoke$arity$1(conn) : entities.campaigns.data.interface$.get_active_campaign_rulesets.call(null,conn)));
} else {
return entities.rulesets.views.ruleset_select(conn,(entities.rulesets.data.interface$.get_all_rulesets.cljs$core$IFn$_invoke$arity$1 ? entities.rulesets.data.interface$.get_all_rulesets.cljs$core$IFn$_invoke$arity$1(conn) : entities.rulesets.data.interface$.get_all_rulesets.call(null,conn)));

}
}
});
entities.rulesets.views.rules = (function entities$rulesets$views$rules(conn,props){
return organisms.library.view_frame(conn,entities.rulesets.views.rules_home(conn),"rules-page");
});

//# sourceMappingURL=entities.rulesets.views.js.map
