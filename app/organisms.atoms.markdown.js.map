{"version":3,"sources":["organisms/atoms/markdown.cljs"],"mappings":";AAOA,AAAKA,oCAAS,AAAW,QAAA,RAACC;AAE1B,sCAAA,tCAAMC,oFAAYC,KAAKC,QAAQC;AAA/B,AAA2C;AAAA,AAAO,8CAAA,vCAACC,kCAAqBH,wFAAMC,QAAQ,AAACG,gDAAQF;;;AAE/F,iCAAA,jCAAMG,0EACHL,KAAKM;AADR,AAAA,kDAAA,sDAES,WAAKC,KAAKC,SAASC,OAAOC;AAA1B,AACE,OAACC,sDACA,uCAAA,2CAAA,6FAAA,yIAAA,yEAAA,jYAACC,wIACO,AAAA,gBAAA,AAAIL,hBAAgBM,qGAChB,AAACd,oCAAWC,KAAKM,YAAY,AAAA,AAAIC;;;AAGzD,AAAA,4CAAA,oDAAAO,hGAAMM;AAAN,AAAA,IAAAL,qBAAA;AAAA,AAAA,IAAAC,0BAAA,AAAA;AAAA,AAAA,IAAAC,wBAAA;;AAAA,AAAA,GAAA,CAAAA,wBAAAD;AAAA,AAAA,AAAAD,wBAAA,CAAA,UAAAE;;AAAA,eAAA,CAAAA,wBAAA;;;;AAAA;;;;AAAA,IAAAC,uBAAA,EAAA,CAAA,MAAA,AAAAH,4BAAA,AAAA,KAAAI,qBAAA,AAAAJ,yBAAA,KAAA,IAAA,OAAA;AAAA,AAAA,OAAAK,+EAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAAF;;;AAAA,AAAA,CAAA,iFAAA,jFAAME,4FACHpB,KAAK0B,MAAQC;AADhB,AAAA,0FAAA,iFAAA,2CAAA,uDAAA,2CAAA,sDAAA,2CAAA,mMAAA,sEAAA,KAAA,wEAAA,qBAAA,3nBAEM9B,uUAAgC,AAAA,iGAAA,AAAA+B,gBAAeC,0PAAqD,oCAAA,pCAACxB,+BAAML,qEAC9G0B;;;AAHH,CAAA,oEAAA,pEAAMN;;AAAN;AAAA,CAAA,8DAAA,WAAAC,zEAAMD;AAAN,AAAA,IAAAE,WAAA,AAAAT,gBAAAQ;IAAAA,eAAA,AAAAE,eAAAF;IAAAG,WAAA,AAAAX,gBAAAQ;IAAAA,eAAA,AAAAE,eAAAF;AAAA,AAAA,IAAAI,qBAAA;AAAA,AAAA,OAAAA,wDAAAH,SAAAE,SAAAH;;;AAAA,AAKA,2CAAA,3CAAMS,8FACH9B;AADH,AAAA,kDAAA,sDAES,WAAKO,KAAKC,SAASC,OAAOC;AAA1B,AACE,IAAMqB,cAAY,AAAA,gBAAA,AAAIxB,hBAAgBM;AAAtC,AACE,OAACF,sDACA,uCAAA,2CAAA,kEAAA,8DAAA,lNAACC,wIACOmB;AADR,AAEa,QAACC,4FAAAA,8GAAAA,pBAAuChC,0FAAAA,rFAAK+B,0FAAAA;GAF1D,yEAAA;;;AAKd,kDAAA,lDAAME,4GACHjC,KAAK0B;AADR,AAAA,0FAAA,iFAAA,2CAAA,uDAAA,2CAAA,sDAAA,2CAAA,mMAAA,sEAAA,KAAA,wEAAA,qBAAA,3nBAEM7B,uUAAgC,AAAA,iGAAA,AAAA+B,gBAAeC,0PAAqD,AAACC,yCAAgB9B,cACxH0B","names":["organisms.atoms.markdown/Markdown","js/require","organisms.atoms.markdown/link-click","conn","section","subsection","systems.navigation/navigate!","cljs.core.keyword","organisms.atoms.markdown/rules","nav-section","node","children","parent","styles","reagent.core.as_element","organisms.atoms.buttons/primary-button","cljs.core/first","var_args","args__5775__auto__","len__5769__auto__","i__5770__auto__","argseq__5776__auto__","cljs.core/IndexedSeq","organisms.atoms.markdown/default-markdown","seq39341","G__39342","cljs.core/next","G__39343","self__5754__auto__","input","variant","cljs.core/deref","organisms.config/palette","organisms.atoms.markdown/realm-nav-rules","button-text","entities.realms.data.interface/set-active-subrealm-by-name","organisms.atoms.markdown/default-realm-markdown"],"sourcesContent":["(ns organisms.atoms.markdown\r\n  (:require [reagent.core :as r]\r\n            [systems.navigation :as navigation]\r\n            [entities.realms.data.interface :as realm-data]\r\n            [organisms.config :refer [palette]]\r\n            [organisms.atoms.buttons :as buttons]))\r\n\r\n(def Markdown (.-default (js/require \"react-native-markdown-display\")))\r\n\r\n(defn link-click [conn section subsection] (fn [] (navigation/navigate! conn [section (keyword subsection)])))\r\n\r\n(defn rules\r\n  [conn nav-section]\r\n  {:link (fn [node children parent styles]\r\n           (r/as-element\r\n            (buttons/primary-button\r\n             {:text (-> node .-children first .-content)\r\n              :on-press (link-click conn nav-section (-> node .-attributes .-href))\r\n              :button-variant :small})))})\r\n\r\n(defn default-markdown\r\n  [conn input & variant]\r\n  [:> Markdown {:style {:body {:color (:surface-700 @palette) :padding-left 20 :padding-right 20}} :rules (rules conn :realm)}\r\n   input])\r\n\r\n(defn realm-nav-rules\r\n  [conn]\r\n  {:link (fn [node children parent styles]\r\n           (let [button-text (-> node .-children first .-content)]\r\n             (r/as-element\r\n              (buttons/primary-button\r\n               {:text button-text\r\n                :on-press #(realm-data/set-active-subrealm-by-name conn button-text)\r\n                :button-variant :small}))))})\r\n\r\n(defn default-realm-markdown\r\n  [conn input]\r\n  [:> Markdown {:style {:body {:color (:surface-700 @palette) :padding-left 20 :padding-right 20}} :rules (realm-nav-rules conn)}\r\n   input])\r\n"]}