{"version":3,"sources":["entities/campaigns/views.cljs"],"mappings":";AAOA,qDAAA,kEAAAA,vHAAMI,kHACHC;AADH,AAAA,IAAAJ,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;YAAA,AAAAE,4CAAAF,eAAA,nEACgBK;YADhB,AAAAH,4CAAAF,eAAA,nEACsBM;SADtB,AAAAJ,4CAAAF,eAAA,hEAC4BO;AAD5B,AAAA,0FAAA,4FAAA,2CAAA,uDAAA,2CAAA,wEAAA,mDAAA,gEAAA,IAAA,sEAAA,YAAA,8DAAA,zgBAEMC;AAFN,AAK+B,OAACC,8CACA,CAACC,uFAAAA,gGAAAA,XAAkCN,4EAAAA,vEAAKG,4EAAAA,KACxC,uCAAA,mFAAA,1HAACI,kCAAqBP;WACnD,iBAAAQ,WAAyBP;IAAzBQ,WAAA,2CAAA,uDAAA;AAAA,AAAA,oIAAAD,SAAAC,qDAAAD,SAAAC,nMAACC,+DAAAA,kFAAAA;KACD,iBAAAC,WAAyB,iBAAAE,mBAAIX;AAAJ,AAAA,oBAAAW;AAAAA;;AAAA;;;IAAzBD,WAAA;AAAA,AAAA,oIAAAD,SAAAC,qDAAAD,SAAAC,nMAACF,+DAAAA,kFAAAA;;;AAEJ,2CAAA,3CAAMI;AAAN,AAEE,yEAAA,2CAAA,+FAAA,qDAAA,wIAAA,8DAAA,vcAACC,sBAAOC,yIACKC,qLACGC;;AAGlB,gDAAA,6DAAAC,7GAAME,wGACHrB;AADH,AAAA,IAAAoB,aAAAD;IAAAC,iBAAA,AAAAvB,4BAAAuB;qBAAA,AAAAtB,4CAAAsB,eAAA,5EACgBE;yBADhB,AAAAxB,4CAAAsB,eAAA,hFAC+BG;AAD/B,AAEE,IAAAC,WAAA,2CAAA,yEAAA,mFAAA,iBAAA,yBAAA,6EAAA,mFAAA,IAAA,YAAA,sEAAA,0EAAA,WAAAC,pGAGSH;AAHT,AAImB,+DAAAG,xDAAC1B,mDAA0BC;GAJ9C,mEAKec;IALfY,WAMC;AAND,AAAA,0JAAAF,SAAAE,gEAAAF,SAAAE,pOAACC,0EAAAA,6FAAAA;;AAQH,2CAAA,3CAAMC,8FACH5B,KAAKsB;AADR,AAAA,0FAAA,uFAAA,2CAAA,uDAAA,2CAAA,uDAAA,5OAEMO,mQACH,mDAAA,2CAAA,wFAAA,qEAAA,3PAACR,8CAAqBrB,yHAAsBsB;;AAE/C,4CAAA,5CAAMQ,gGACH9B,KAAK+B;AADR,AAEE,yCAAA,mFAAA,rHAACC,6BACAhC,uIACI6B,wCACH,iBAAAI,WAAyB,AAAA,oGAAiBF;IAA1CG,WAAA,2CAAA,gEAAA;AAAA,AAAA,oIAAAD,SAAAC,qDAAAD,SAAAC,nMAACxB,+DAAAA,kFAAAA;KACD,iBAAAyB,WAAyB,4CAAKJ;AAA9B,AAAA,oIAAAI,qDAAAA,jLAACzB,+DAAAA,yEAAAA;aAJH;;AAOF,oCAAA,pCAAM0B,gFACHpC,KAASqC;AADZ,AAEE,IAAMC,uBAAqB,CAACC,uFAAAA,6FAAAA,RAAkCvC,yEAAAA;IACxDwC,qBAAmB,CAACC,qFAAAA,2FAAAA,RAAgCzC,uEAAAA;AAD1D,AAEE,GAAI,AAAC0C,uBAAOJ;AAAZ,0FAAA,uFAAA,2CAAA,uDAAA,2CAAA,4EAAA,uDAAA,uDAAA,/WACMT,sYAEH,iBAAAc,WAAA;IAAAC,WAAA,2CAAA,gEAAA,KAAA,iEAAA,yDAAA,sDAAA;AAAA,AAAA,oIAAAD,SAAAC,qDAAAD,SAAAC,nMAAClC,+DAAAA,kFAAAA;KAHJ,mFAAA,6FAAA,2CAAA,uDAAA,2CAAA,sDAAA,IAAA,uDAAA,eAAA,0FAAA,2CAAA,mEAAA,yDAAA,4EAAA,uEAAA,yDAAA,xwBAIOmC,+xBAIH,AAACjB,yCAAgB5B,KAAKwC;;AACxB,OAACV,0CAAiB9B,KAAKsC","names":["p__39402","map__39403","cljs.core/--destructure-map","cljs.core.get","entities.campaigns.views/campaign-select-list-item","conn","title","owner","id","js/shadow.js.shim.module$react_native.Pressable","cljs.core.doall","entities.campaigns.data.interface/set-active-campaign","systems.navigation/navigate!","G__39406","G__39407","organisms.library/default-text","G__39408","G__39409","or__5045__auto__","entities.campaigns.views/add-campaign-fn","cljs.core/reset!","organisms.environments.modals/modal-content","organisms.environments.modals/new-item-modal","organisms.environments.modals/example-schema","p__39417","map__39418","entities.campaigns.views/campaign-select-list","campaigns-data","show-header?","G__39422","p1__39414#","G__39423","organisms.library/search-filter-sort-list","entities.campaigns.views/campaign-select","js/shadow.js.shim.module$react_native.View","entities.campaigns.views/campaign-summary","campaign-data","organisms.library/view-frame","G__39432","G__39433","G__39435","entities.campaigns.views/campaign","props","active-campaign-data","entities.campaigns.data.interface/get-active-campaign","all-campaigns-data","entities.campaigns.data.interface/get-all-campaigns","cljs.core/empty?","G__39440","G__39441","js/shadow.js.shim.module$react_native.ScrollView"],"sourcesContent":["(ns entities.campaigns.views\r\n  (:require [reagent.core :as r]\r\n            [\"react-native\" :as rn]\r\n            [systems.navigation :as navigation]\r\n            [entities.campaigns.data.interface :as campaign-data]\r\n            [organisms.library :as components]))\r\n\r\n(defn campaign-select-list-item\r\n  [conn {:keys [title owner id]}]\r\n  [:> rn/Pressable {:style {:flex-direction :row\r\n                            :margin-top 5\r\n                            :margin-bottom 5}\r\n                    :on-press #(doall\r\n                                (campaign-data/set-active-campaign conn id)\r\n                                (navigation/navigate! conn [:campaign]))}\r\n   (components/default-text title {:color :white})\r\n   (components/default-text (or owner \"Avis Industries\") {})])\r\n\r\n(defn add-campaign-fn\r\n  []\r\n  (reset! organisms.environments.modals/modal-content\r\n          {:fn organisms.environments.modals/new-item-modal\r\n           :args [organisms.environments.modals/example-schema]\r\n           :display? true}))\r\n\r\n(defn campaign-select-list\r\n  [conn {:keys [campaigns-data show-header?]}]\r\n  (components/search-filter-sort-list\r\n   {:column-headers [\"Campaign Title\" \"Campaign Owner\"]\r\n    :column-flex-vals [1 1]\r\n    :items campaigns-data\r\n    :item-format-fn #(campaign-select-list-item conn %)\r\n    :add-item-fn add-campaign-fn}\r\n   (str \"campaigns\")))\r\n\r\n(defn campaign-select\r\n  [conn campaigns-data]\r\n  [:> rn/View {:style {:width \"100%\"}}\r\n   (campaign-select-list conn {:campaigns-data campaigns-data :show-header? true})])\r\n\r\n(defn campaign-summary\r\n  [conn campaign-data]\r\n  (components/view-frame\r\n   conn\r\n   [:> rn/View\r\n    (components/default-text (:campaign/title campaign-data) {:font-size 24})\r\n    (components/default-text (str campaign-data))]\r\n   \"campaign-page\"))\r\n\r\n(defn campaign\r\n  [conn ^js props]\r\n  (let [active-campaign-data (campaign-data/get-active-campaign conn)\r\n        all-campaigns-data (campaign-data/get-all-campaigns conn)]\r\n    (if (empty? active-campaign-data)\r\n      [:> rn/View {:style {:background-color :black\r\n                           :width \"100%\"}}\r\n       (components/default-text \"Campaigns\" {:font-size 24 :text-align :center :flex nil})\r\n       [:> rn/ScrollView {:style {:flex 1 :width \"100%\"}\r\n                          :content-container-style {:align-items :center\r\n                                                    :justify-content :space-between\r\n                                                    :height \"100%\"}}\r\n        (campaign-select conn all-campaigns-data)]]\r\n      (campaign-summary conn active-campaign-data))))\r\n"]}