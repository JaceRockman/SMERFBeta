goog.provide('entities.creatures.views.main');
entities.creatures.views.main.creature_select = (function entities$creatures$views$main$creature_select(conn,creatures){
var flex_vals = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),(1)], null);
var G__39850 = new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"items","items",1031954938),creatures,new cljs.core.Keyword(null,"column-headers","column-headers",-966500841),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Name","Creator"], null),new cljs.core.Keyword(null,"column-flex-vals","column-flex-vals",-637482818),flex_vals,new cljs.core.Keyword(null,"item-format-fn","item-format-fn",-1806627887),(function (creature_data){
return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),shadow.js.shim.module$react_native.Pressable,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"flex-direction","flex-direction",364609438),new cljs.core.Keyword(null,"row","row",-570139521)], null),new cljs.core.Keyword(null,"on-press","on-press",-1763585856),(function (){
var G__39852 = conn;
var G__39853 = new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(creature_data);
return (entities.creatures.data.interface$.set_active_creature.cljs$core$IFn$_invoke$arity$2 ? entities.creatures.data.interface$.set_active_creature.cljs$core$IFn$_invoke$arity$2(G__39852,G__39853) : entities.creatures.data.interface$.set_active_creature.call(null,G__39852,G__39853));
})], null),(function (){var G__39854 = new cljs.core.Keyword(null,"title","title",636505583).cljs$core$IFn$_invoke$arity$1(creature_data);
var G__39855 = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"flex","flex",-1425124628),cljs.core.nth.cljs$core$IFn$_invoke$arity$2(flex_vals,(0))], null);
return (organisms.library.default_text.cljs$core$IFn$_invoke$arity$2 ? organisms.library.default_text.cljs$core$IFn$_invoke$arity$2(G__39854,G__39855) : organisms.library.default_text.call(null,G__39854,G__39855));
})(),(function (){var G__39856 = "Avis Industries";
var G__39857 = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"flex","flex",-1425124628),cljs.core.nth.cljs$core$IFn$_invoke$arity$2(flex_vals,(1))], null);
return (organisms.library.default_text.cljs$core$IFn$_invoke$arity$2 ? organisms.library.default_text.cljs$core$IFn$_invoke$arity$2(G__39856,G__39857) : organisms.library.default_text.call(null,G__39856,G__39857));
})()], null);
}),new cljs.core.Keyword(null,"add-item-fn","add-item-fn",1175869661),organisms.environments.modals.example_new_item_modal], null);
var G__39851 = "creatures";
return (organisms.library.search_filter_sort_list.cljs$core$IFn$_invoke$arity$2 ? organisms.library.search_filter_sort_list.cljs$core$IFn$_invoke$arity$2(G__39850,G__39851) : organisms.library.search_filter_sort_list.call(null,G__39850,G__39851));
});
entities.creatures.views.main.ruleset_select_modal = (function entities$creatures$views$main$ruleset_select_modal(conn){
var temp__5802__auto__ = (entities.campaigns.data.interface$.get_active_campaign_rulesets.cljs$core$IFn$_invoke$arity$1 ? entities.campaigns.data.interface$.get_active_campaign_rulesets.cljs$core$IFn$_invoke$arity$1(conn) : entities.campaigns.data.interface$.get_active_campaign_rulesets.call(null,conn));
if(cljs.core.truth_(temp__5802__auto__)){
var active_campaign_rulesets = temp__5802__auto__;
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),shadow.js.shim.module$react_native.View,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"height","height",1025178622),"100%"], null)], null),cljs.core.doall.cljs$core$IFn$_invoke$arity$1(cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (ruleset){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),shadow.js.shim.module$react_native.Pressable,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-press","on-press",-1763585856),(function (){
var G__39858_39864 = conn;
var G__39859_39865 = new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(ruleset);
(entities.campaigns.data.interface$.set_campaign_active_ruleset.cljs$core$IFn$_invoke$arity$2 ? entities.campaigns.data.interface$.set_campaign_active_ruleset.cljs$core$IFn$_invoke$arity$2(G__39858_39864,G__39859_39865) : entities.campaigns.data.interface$.set_campaign_active_ruleset.call(null,G__39858_39864,G__39859_39865));

return cljs.core.reset_BANG_(organisms.library.modal_content,null);
})], null),(function (){var G__39860 = new cljs.core.Keyword(null,"title","title",636505583).cljs$core$IFn$_invoke$arity$1(ruleset);
return (organisms.library.default_text.cljs$core$IFn$_invoke$arity$1 ? organisms.library.default_text.cljs$core$IFn$_invoke$arity$1(G__39860) : organisms.library.default_text.call(null,G__39860));
})()], null);
}),active_campaign_rulesets))], null);
} else {
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),shadow.js.shim.module$react_native.View,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"height","height",1025178622),"100%"], null)], null),(organisms.library.default_text.cljs$core$IFn$_invoke$arity$1 ? organisms.library.default_text.cljs$core$IFn$_invoke$arity$1("No rulesets found in active campaign") : organisms.library.default_text.call(null,"No rulesets found in active campaign"))], null);
}
});
entities.creatures.views.main.creature_info = (function entities$creatures$views$main$creature_info(conn,creature_details){
var portrait = new cljs.core.Keyword("creature","portrait","creature/portrait",870623728).cljs$core$IFn$_invoke$arity$1(creature_details);
var gender = new cljs.core.Keyword("creature","gender","creature/gender",969047776).cljs$core$IFn$_invoke$arity$1(creature_details);
var races = ["Races: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.str,cljs.core.interpose.cljs$core$IFn$_invoke$arity$2(" ",(entities.creatures.data.interface$.get_creature_races.cljs$core$IFn$_invoke$arity$2 ? entities.creatures.data.interface$.get_creature_races.cljs$core$IFn$_invoke$arity$2(conn,creature_details) : entities.creatures.data.interface$.get_creature_races.call(null,conn,creature_details)))))].join('');
var description = new cljs.core.Keyword("creature","description","creature/description",1448821151).cljs$core$IFn$_invoke$arity$1(creature_details);
return new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),shadow.js.shim.module$react_native.View,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"width","width",-384071477),organisms.config.screen_width(),new cljs.core.Keyword(null,"flex-direction","flex-direction",364609438),new cljs.core.Keyword(null,"row","row",-570139521),new cljs.core.Keyword(null,"align-items","align-items",-267946462),new cljs.core.Keyword(null,"center","center",-748944368),new cljs.core.Keyword(null,"height","height",1025178622),"15%"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),shadow.js.shim.module$react_native.Image,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"width","width",-384071477),"25%",new cljs.core.Keyword(null,"max-height","max-height",-612563804),"100%",new cljs.core.Keyword(null,"aspect-ratio","aspect-ratio",1674013504),(1)], null),new cljs.core.Keyword(null,"source","source",-433931539),(cljs.core.truth_(portrait)?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"uri","uri",-774711847),portrait], null):require("../assets/character silhouette.png"))], null)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),shadow.js.shim.module$react_native.View,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"flex","flex",-1425124628),(1)], null)], null),(organisms.library.default_text.cljs$core$IFn$_invoke$arity$1 ? organisms.library.default_text.cljs$core$IFn$_invoke$arity$1(gender) : organisms.library.default_text.call(null,gender)),(organisms.library.default_text.cljs$core$IFn$_invoke$arity$1 ? organisms.library.default_text.cljs$core$IFn$_invoke$arity$1(races) : organisms.library.default_text.call(null,races)),(organisms.library.default_text.cljs$core$IFn$_invoke$arity$1 ? organisms.library.default_text.cljs$core$IFn$_invoke$arity$1(description) : organisms.library.default_text.call(null,description))], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),shadow.js.shim.module$react_native.View,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"position","position",-2011731912),new cljs.core.Keyword(null,"absolute","absolute",1655386478),new cljs.core.Keyword(null,"top","top",-1856271961),(10),new cljs.core.Keyword(null,"right","right",-452581833),(10)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),shadow.js.shim.module$react_native.Pressable,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-press","on-press",-1763585856),(function (){
return cljs.core.reset_BANG_(organisms.library.modal_content,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"display?","display?",-1189123617),true,new cljs.core.Keyword(null,"fn","fn",-1175266204),entities.creatures.views.main.ruleset_select_modal,new cljs.core.Keyword(null,"args","args",1315556576),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [conn], null)], null));
})], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),shadow.js.shim.module$$expo$vector_icons.FontAwesome5,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"book","book",-918152214),new cljs.core.Keyword(null,"color","color",1011675173),new cljs.core.Keyword(null,"surface-700","surface-700",-856999488).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(organisms.config.palette)),new cljs.core.Keyword(null,"size","size",1098693007),(20)], null)], null)], null)], null)], null);
});
entities.creatures.views.main.creature = (function entities$creatures$views$main$creature(conn,creature_data){
return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),shadow.js.shim.module$react_native.View,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"height","height",1025178622),"100%"], null)], null),entities.creatures.views.main.creature_info(conn,creature_data),(function (){var G__39861 = organisms.library.creature_horizontal_position;
var G__39862 = new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Stats","Resources","Actions","Notes"], null);
var G__39863 = new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [entities.creatures.views.stats.stats(conn,(entities.creatures.data.interface$.get_creature_domains.cljs$core$IFn$_invoke$arity$2 ? entities.creatures.data.interface$.get_creature_domains.cljs$core$IFn$_invoke$arity$2(conn,creature_data) : entities.creatures.data.interface$.get_creature_domains.call(null,conn,creature_data)),cljs.core.PersistentArrayMap.EMPTY),entities.creatures.views.resources.resources(conn,creature_data),entities.creatures.views.actions.actions(conn,creature_data,(entities.creatures.data.interface$.get_creature_domains.cljs$core$IFn$_invoke$arity$2 ? entities.creatures.data.interface$.get_creature_domains.cljs$core$IFn$_invoke$arity$2(conn,creature_data) : entities.creatures.data.interface$.get_creature_domains.call(null,conn,creature_data)),(entities.creatures.data.interface$.get_creature_resource_resources.cljs$core$IFn$_invoke$arity$2 ? entities.creatures.data.interface$.get_creature_resource_resources.cljs$core$IFn$_invoke$arity$2(conn,creature_data) : entities.creatures.data.interface$.get_creature_resource_resources.call(null,conn,creature_data))),entities.creatures.views.notes.notes(conn,creature_data)], null);
return (organisms.library.indicated_scroll_view.cljs$core$IFn$_invoke$arity$3 ? organisms.library.indicated_scroll_view.cljs$core$IFn$_invoke$arity$3(G__39861,G__39862,G__39863) : organisms.library.indicated_scroll_view.call(null,G__39861,G__39862,G__39863));
})()], null);
});
entities.creatures.views.main.creatures_page = (function entities$creatures$views$main$creatures_page(conn,props){
return organisms.library.view_frame(conn,(function (){var active_campaign_data = (entities.campaigns.data.interface$.get_active_campaign.cljs$core$IFn$_invoke$arity$1 ? entities.campaigns.data.interface$.get_active_campaign.cljs$core$IFn$_invoke$arity$1(conn) : entities.campaigns.data.interface$.get_active_campaign.call(null,conn));
var active_creature_data = (entities.creatures.data.interface$.get_active_creature.cljs$core$IFn$_invoke$arity$1 ? entities.creatures.data.interface$.get_active_creature.cljs$core$IFn$_invoke$arity$1(conn) : entities.creatures.data.interface$.get_active_creature.call(null,conn));
if(cljs.core.truth_(active_creature_data)){
return entities.creatures.views.main.creature(conn,active_creature_data);
} else {
if(cljs.core.truth_(active_campaign_data)){
return entities.creatures.views.main.creature_select(conn,(entities.campaigns.data.interface$.get_active_campaign_creatures.cljs$core$IFn$_invoke$arity$1 ? entities.campaigns.data.interface$.get_active_campaign_creatures.cljs$core$IFn$_invoke$arity$1(conn) : entities.campaigns.data.interface$.get_active_campaign_creatures.call(null,conn)));
} else {
return entities.creatures.views.main.creature_select(conn,(entities.creatures.data.interface$.get_all_creatures.cljs$core$IFn$_invoke$arity$1 ? entities.creatures.data.interface$.get_all_creatures.cljs$core$IFn$_invoke$arity$1(conn) : entities.creatures.data.interface$.get_all_creatures.call(null,conn)));

}
}
})(),"creatures-page");
});

//# sourceMappingURL=entities.creatures.views.main.js.map
